diff -ru singular-3.1.5.orig/factory/gen_cf_gmp.template singular-3.1.5/factory/gen_cf_gmp.template
--- singular-3.1.5.orig/factory/gen_cf_gmp.template	2009-11-02 11:12:22.000000000 +0100
+++ singular-3.1.5/factory/gen_cf_gmp.template	2013-05-31 12:49:30.000000000 +0200
@@ -1,3 +1,5 @@
 GMP_H=`echo $GMP_H_T| sed -e 's/^.*gmp.cc//' -e 's/ .$//'`
 echo generating cf_gmp.h from $GMP_H
-cat $GMP_H | grep -v __GMP_DECLSPEC_XX |grep -v std::FILE > cf_gmp.h
+cat $GMP_H | grep -v __GMP_DECLSPEC_XX |grep -v std::FILE > cf_gmp.tmp
+if ! diff cf_gmp.tmp cf_gmp.h &>/dev/null; then mv cf_gmp.tmp cf_gmp.h; fi
+rm -f cf_gmp.tmp
